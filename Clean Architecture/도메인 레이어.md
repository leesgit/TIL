## 도메인 레이어

### 초기 설계
가장 중요하고 변하지 않는 것 부터 작업
핵심 시나리오 등을 테스도 함께 작업하여 핵심 비지니스 로직의 테스트를 만들어본다.(BDD - Behavior-Drivben Development)

### 도메인 레이어란?
도메인 레이어는 UI 레이어와 데이터 레이어 사이에 있는 선택적 레이어이다.

도메인 레이어는 복잡한 비즈니스 로직이나 여러 ViewModel에서 재사용되는 간단한 비즈니스 로직의 캡슐화를 담당한다.
모든 앱에 이러한 요구사항이 있는 것은 아니므로 이 레이어는 선택사이다.
따라서 복잡성을 처리하거나 재사용성을 선호하는 등 필요한 경우에만 도메인 레이어를 사용해야 한다.

참고)
https://developer.android.com/jetpack/guide/domain-layer?hl=ko

### DDD란?
Domain-driven-Devlopment
프로세스에 대한 깊은 지식을 담고 있는 도메인 모델과 도메인 규칙들의 개발을 중심에 놓는 개발 방법이다.

비지니스 문제를 해결하기 위한 접근 방식으로 어떻게 비즈니스 문제를 해결하는가에 대한 사고방식 및 커뮤니케이션 방법 그리고 소프트웨어 패턴, 코딩 다이드 포함
기술을 위한 설계에서 실제로 일어나는 일들과 그 도메인을 위해 성께하도록 초점을 옮겨준다.
완벽한 애자일 개발을 위한 매우 강력한 도구

### 도메인 레이어가 필요한 이유
UI 계층과 데이터 계층 사이에 있는 책임들을 분리해준다.
중복 사용되는 책임을 하나에 도메인에 정의 함으로써 코드 중복을 줄여 줄 수 있다.
비지니스 로직을 각 도메인으로 분리하여 로직이 변경 되어도 도메인만 변경해 주면 되기 때문에 다른 계층에 영향을 덜 준다.
비지니스 로직만 분리하여 테스트를 용이하게 해준다.

### 도메인 레이어에서 하는 일
UI와 데이터 계층과 독립적으로 비즈니스 로직을 가진다.
데이터 계층을 통해 전달 받은 엔티티를 mapper등을 통하여 앱의 도메인 관점에서 필요한 형태로 변환하여 사용한다. (아래 도메인에서의 엔티티) 
viewmodel에서 공통으로 사용 되는 로직을 별도로 뺌으로써 코드의 중복을 방지한다.


### 도메인에서의 엔티티
엔티티는 API나 DB로 부터 가져온 데이터를 비즈니스 로직으로 사용하기 위해 가공된 데이터를 말한다.
보통 엔티티는 그대로 DB 혹은 remote API로 저장 되지 않는다.
도메인 에서는 데이터가 아니라 행위를 중심으로 하는 DDD으로 설계하기 때문에 엔티티를 데이터 보다는 비지니스 로직에 맞춰 작성하기 때문에 mapper를 이용하여 DB혹은 remote API를 변형시켜 데이터와 매칭 시킨다.

#### 엔티티 정의
흔히 DB와 관련 되어 많이 사용되는데, 엔티티는 하나의 개체를 의미한다.

개념이나 정보 단위 등과 같은 현실의 대상체 혹은 무형의 대상체와 같이 하나하나 구별 되는 대상을 의미한다.